{"ast":null,"code":"var _jsxFileName = \"/Users/sahilsutaria/Desktop/React/TrackerCovid/src/Doughnut.js\";\nimport React from 'react';\nimport './App.css';\nimport Chart from 'chart.js';\nimport { Card } from \"react-bootstrap\";\n\nclass Doughnut extends React.Component {\n  constructor(props) {\n    super();\n    this.countries = [];\n    this.v = new Map();\n    this.width = \"380px\";\n    this.height = \"380px\";\n\n    if (window.innerWidth < 1000) {\n      this.width = \"300px\";\n      this.height = \"300px\";\n    }\n  }\n\n  componentDidMount() {\n    this.fetchCountryList();\n  }\n\n  fetchCountryList() {\n    fetch(\"https://coronavirus-monitor.p.rapidapi.com/coronavirus/affected.php\", {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"ebf8d75e2dmsh37e9046fd3028eep14281ajsn7d548a9e63d1\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(resp => {\n      for (let i = 0; i < 5; i++) {\n        this.countries.push(resp.affected_countries[i]);\n      }\n    }).then(() => {\n      this.fetchAsync();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  fetchAsync() {\n    for (let i = 0; i < this.countries.length; i++) {\n      fetch(`https://coronavirus-monitor.p.rapidapi.com/coronavirus/latest_stat_by_country.php?country=${this.countries[i]}`, {\n        \"method\": \"GET\",\n        \"headers\": {\n          \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n          \"x-rapidapi-key\": \"ebf8d75e2dmsh37e9046fd3028eep14281ajsn7d548a9e63d1\"\n        }\n      }).then(response => {\n        return response.json();\n      }).then(resp => {\n        let c = resp.latest_stat_by_country[0].total_cases.replace(/,/g, '');\n        this.v.set(resp.country, Number(c));\n      }).then(() => {\n        let a = Array.from(this.v.keys());\n        let b = Array.from(this.v.values());\n        Chart.defaults.global.animation.duration = 10000;\n        Chart.defaults.global.defaultFontSize = 7;\n\n        if (document.getElementById(\"dd\") != null) {\n          const myc4 = document.getElementById(\"dd\").getContext('2d');\n          const dough = new Chart(myc4, {\n            type: 'doughnut',\n            options: {\n              responsive: true,\n              maintainAspectRatio: false,\n              events: ['mousemove'],\n              legend: {\n                display: true\n              }\n            },\n            data: {\n              labels: a.reverse(),\n              datasets: [{\n                borderColor: \"white\",\n                backgroundColor: ['rgba(79,64,36,0.94)', 'rgb(128,104,58)', 'rgba(190,154,87,0.91)', 'rgba(244,197,111,0.9)', 'rgba(180,180,11,0.93)'],\n                data: b.reverse()\n              }]\n            }\n          });\n        }\n      }).catch(error => console.log(error));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"effect7 bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      className: \"head bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \" Top 5 countries\"), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      style: {\n        width: this.width,\n        height: this.height\n      },\n      id: \"dd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, \"\\u03A9\"))));\n  }\n\n}\n\nexport default Doughnut;","map":{"version":3,"sources":["/Users/sahilsutaria/Desktop/React/TrackerCovid/src/Doughnut.js"],"names":["React","Chart","Card","Doughnut","Component","constructor","props","countries","v","Map","width","height","window","innerWidth","componentDidMount","fetchCountryList","fetch","then","response","json","resp","i","push","affected_countries","fetchAsync","catch","err","console","log","length","c","latest_stat_by_country","total_cases","replace","set","country","Number","a","Array","from","keys","b","values","defaults","global","animation","duration","defaultFontSize","document","getElementById","myc4","getContext","dough","type","options","responsive","maintainAspectRatio","events","legend","display","data","labels","reverse","datasets","borderColor","backgroundColor","error","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Chart from 'chart.js'\nimport {Card} from \"react-bootstrap\";\n\nclass Doughnut extends React.Component {\n    constructor(props) {\n        super();\n        this.countries=[];\n        this.v = new Map()\n        this.width=\"380px\"\n        this.height=\"380px\"\n        if(window.innerWidth<1000){\n            this.width=\"300px\"\n            this.height=\"300px\"\n        }\n    }\n\n    componentDidMount() {\n        this.fetchCountryList()\n    }\n\n    fetchCountryList(){\n        fetch(\"https://coronavirus-monitor.p.rapidapi.com/coronavirus/affected.php\", {\n            \"method\": \"GET\",\n            \"headers\": {\n                \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n                \"x-rapidapi-key\": \"ebf8d75e2dmsh37e9046fd3028eep14281ajsn7d548a9e63d1\"\n            }\n        })\n        .then(response => {return (response.json());})\n         .then(resp=>{\n            for (let i=0; i<5; i++) {\n                 this.countries.push(resp.affected_countries[i])\n            }\n        })\n        .then(()=>{this.fetchAsync()})\n        .catch(err => {console.log(err);});\n    }\n    fetchAsync(){\n        for (let i=0; i< this.countries.length; i++){\n            fetch(`https://coronavirus-monitor.p.rapidapi.com/coronavirus/latest_stat_by_country.php?country=${this.countries[i]}`, {\n                \"method\": \"GET\",\n                \"headers\": {\n                    \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n                    \"x-rapidapi-key\": \"ebf8d75e2dmsh37e9046fd3028eep14281ajsn7d548a9e63d1\"\n                }\n            })\n            .then(response=> {return response.json()})\n            .then(resp=>{\n                    let c = resp.latest_stat_by_country[0].total_cases.replace(/,/g,'')\n                    this.v.set(resp.country,Number(c) )\n                })\n            .then(()=>{\n                let a= Array.from(this.v.keys())\n                let b=Array.from(this.v.values())\n                Chart.defaults.global.animation.duration=10000;\n                Chart.defaults.global.defaultFontSize = 7;\n                if (document.getElementById(\"dd\")!=null){\n                    const myc4 = document.getElementById(\"dd\").getContext('2d');\n                    const dough =new Chart(myc4,{\n                        type: 'doughnut',\n                        options:{responsive: true, maintainAspectRatio: false, events: ['mousemove'],\n                            legend:{\n                                display:true,\n                            }},\n                        data: {\n                            labels: a.reverse(),\n                            datasets: [{\n                                borderColor: \"white\",\n                                backgroundColor: [\n                                    'rgba(79,64,36,0.94)',\n                                    'rgb(128,104,58)',\n                                    'rgba(190,154,87,0.91)',\n                                    'rgba(244,197,111,0.9)',\n                                    'rgba(180,180,11,0.93)',\n                                ],\n                                data:b.reverse()}]\n                        },\n                    });\n                }\n            })\n            .catch(error=>console.log(error))\n        }\n    }\n    render() {\n        return (\n            <div>\n                <Card className=\"effect7 bg-light\">\n                    <Card.Header className=\"head bg-dark\" > Top 5 countries</Card.Header>\n                    <Card.Body>\n                        <canvas style={{width:this.width,height:this.height}} id=\"dd\" >Î©</canvas>\n                    </Card.Body>\n                   \n                </Card>\n            </div>\n        );\n    }\n}\nexport default Doughnut;\n"]},"metadata":{},"sourceType":"module"}